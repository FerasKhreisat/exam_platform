{% extends "base.html" %}
{% block title %}المواد المتاحة{% endblock %}

{% block content %}
<div class="card-glass w-100" style="max-width:900px;">

    <h2 class="fw-bold mb-3 text-center">المواد المتاحة</h2>

    <p class="text-center text-light mb-4">
        تظهر المواد بناءً على اختيارك للصف والمسار والفصل.
    </p>

    {% if subjects %}
    <div class="row g-3">

        {% for s in subjects %}
        <div class="col-md-6 col-lg-4">
            <div class="p-3 rounded-4 bg-dark bg-opacity-25 border border-secondary-subtle h-100">

                <div class="fw-semibold text-light mb-1">
                    {{ s.name }}
                </div>

                <div class="small text-info mb-2">
                    {{ s.grade }}
                </div>

                <div class="small text-light">
                    مدة الامتحان: {{ s.default_duration }} دقيقة<br>
                    عدد الأسئلة: {{ s.default_questions }} سؤال
                </div>

                <div class="mt-3 text-end">
                    <a href="{{ url_for('exam_start', subject_id=s.id) }}"
                       class="btn btn-gold btn-sm">
                        بدء الامتحان
                    </a>
                </div>

            </div>
        </div>
        {% endfor %}

    </div>

    {% else %}
    <p class="text-center text-warning mt-4">
        لا يوجد مواد لهذا الاختيار. جرّب صفاً أو مساراً أو فصلاً آخر.
    </p>
    {% endif %}

    <div class="text-center mt-4">
        <a href="{{ url_for('choose_grade') }}"
           class="btn btn-outline-light">
            ⬅ تغيير الصف/المسار/الفصل
        </a>
    </div>

</div>
{% endblock %}